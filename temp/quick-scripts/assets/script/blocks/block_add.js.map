{"version":3,"sources":["block_add.js"],"names":["com","require","cc","Class","extends","Component","properties","audio","AudioClip","_isContacted","onBeginContact","contact","self","other","node","group","score","boom","audioEngine","play","getChildByName","getComponent","removeComponent","RigidBody","x","y","MAP_OBJ","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,MAAMC,QAAQ,QAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM,SADF;AAERC,sBAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBQ,KAHP;;AAuBL;;AAEAC,kBAzBK,0BAyBUC,OAzBV,EAyBmBC,IAzBnB,EAyByBC,KAzBzB,EAyB+B;AAChC,YAAG,KAAKJ,YAAL,IAAqBI,MAAMC,IAAN,CAAWC,KAAX,IAAoB,MAA5C,EAAmD;AAC/Cf,gBAAIgB,KAAJ,GAAYhB,IAAIgB,KAAJ,GAAY,EAAxB;AACA,iBAAKC,IAAL;AACA,iBAAKR,YAAL,GAAoB,KAApB;AACH;AACJ,KA/BI;AAgCLQ,QAhCK,kBAgCC;AACFf,WAAGgB,WAAH,CAAeC,IAAf,CAAoB,KAAKZ,KAAzB,EAAgC,KAAhC,EAAuC,GAAvC;AACA,aAAKO,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,CAAC,GAA1E,EAA+E,CAA/E,EAAkF,EAAlF;AACA,aAAKH,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,CAAzE,EAA8E,CAAC,CAA/E,EAAkF,EAAlF;AACA,aAAKH,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,GAAzE,EAA+E,CAA/E,EAAkF,EAAlF;AACA,aAAKH,IAAL,CAAUQ,eAAV,CAA0BpB,GAAGqB,SAA7B;AACAvB,YAAIgB,KAAJ,GAAYhB,IAAIgB,KAAJ,GAAY,EAAxB;AACA,YAAIQ,IAAK,KAAKV,IAAL,CAAUO,YAAV,CAAuB,UAAvB,EAAmCG,CAA5C;AACA,YAAIC,IAAK,KAAKX,IAAL,CAAUO,YAAV,CAAuB,UAAvB,EAAmCI,CAA5C;AACAzB,YAAI0B,OAAJ,CAAYF,CAAZ,EAAeC,CAAf,IAAoB,IAApB;AACH,KA1CI;AA2CLE,SA3CK,mBA2CI,CACR;AA5CI;;AA8CL;AA9CJ","file":"block_add.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\blocks","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar com = require('common');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        audio: cc.AudioClip,\n        _isContacted: true\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onBeginContact(contact, self, other){\n        if(this._isContacted && other.node.group == \"ball\"){\n            com.score = com.score + 10;\n            this.boom();\n            this._isContacted = false;\n        }\n    },\n    boom(){\n        cc.audioEngine.play(this.audio, false, 0.5);\n        this.node.getChildByName(\"stone_part1\").getComponent(\"block_parts\").boom(-100, 5, 15);\n        this.node.getChildByName(\"stone_part2\").getComponent(\"block_parts\").boom(0  , -5, 15);\n        this.node.getChildByName(\"stone_part3\").getComponent(\"block_parts\").boom(100 , 5, 15);\n        this.node.removeComponent(cc.RigidBody);\n        com.score = com.score + 10;\n        let x =  this.node.getComponent(\"position\").x;\n        let y =  this.node.getComponent(\"position\").y;\n        com.MAP_OBJ[x][y] = null;\n    },\n    start () {\n    },\n\n    // update (dt) {},\n});\n"]}