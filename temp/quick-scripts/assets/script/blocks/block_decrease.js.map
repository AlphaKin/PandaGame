{"version":3,"sources":["block_decrease.js"],"names":["com","require","cc","Class","extends","Component","properties","audio","AudioClip","_isContacted","onBeginContact","contact","self","other","node","group","score","boom","audioEngine","play","getChildByName","getComponent","removeComponent","RigidBody","x","y","MAP_OBJ","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,MAAMC,QAAQ,QAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM,SADF;AAERC,sBAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBQ,KAHP;;AAuBLC,kBAvBK,0BAuBUC,OAvBV,EAuBmBC,IAvBnB,EAuByBC,KAvBzB,EAuB+B;AAChC,YAAG,KAAKJ,YAAL,IAAqBI,MAAMC,IAAN,CAAWC,KAAX,IAAoB,MAA5C,EAAmD;AAC/Cf,gBAAIgB,KAAJ,GAAYhB,IAAIgB,KAAJ,GAAY,EAAxB;AACA,gBAAGhB,IAAIgB,KAAJ,GAAY,CAAf,EAAkBhB,IAAIgB,KAAJ,GAAY,CAAZ;AAClB,iBAAKC,IAAL;AACA,iBAAKR,YAAL,GAAoB,KAApB;AACH;AACJ,KA9BI;AA+BLQ,QA/BK,kBA+BC;AACFf,WAAGgB,WAAH,CAAeC,IAAf,CAAoB,KAAKZ,KAAzB,EAAgC,KAAhC,EAAuC,CAAvC;AACA,aAAKO,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,CAAC,GAA1E,EAA+E,CAA/E,EAAkF,CAAlF;AACA,aAAKH,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,CAAzE,EAA8E,CAA9E,EAAiF,CAAjF;AACA,aAAKH,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,GAAzE,EAA+E,CAA/E,EAAkF,CAAlF;AACA,aAAKH,IAAL,CAAUQ,eAAV,CAA0BpB,GAAGqB,SAA7B;AACA,YAAIC,IAAI,KAAKV,IAAL,CAAUO,YAAV,CAAuB,UAAvB,EAAmCG,CAA3C;AACA,YAAIC,IAAI,KAAKX,IAAL,CAAUO,YAAV,CAAuB,UAAvB,EAAmCI,CAA3C;AACAzB,YAAI0B,OAAJ,CAAYF,CAAZ,EAAeC,CAAf,IAAoB,IAApB;AACH,KAxCI;AAyCLE,SAzCK,mBAyCI,CAER;AA3CI;;AA6CL;AA7CJ","file":"block_decrease.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\blocks","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nvar com = require('common');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        audio: cc.AudioClip,\r\n        _isContacted: true\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    onBeginContact(contact, self, other){\r\n        if(this._isContacted && other.node.group == \"ball\"){\r\n            com.score = com.score - 10;\r\n            if(com.score < 0) com.score = 0;\r\n            this.boom();\r\n            this._isContacted = false;\r\n        }\r\n    },\r\n    boom(){\r\n        cc.audioEngine.play(this.audio, false, 1);\r\n        this.node.getChildByName(\"stone_part1\").getComponent(\"block_parts\").boom(-100, 5, 5);\r\n        this.node.getChildByName(\"stone_part2\").getComponent(\"block_parts\").boom(0  , 5, 5);\r\n        this.node.getChildByName(\"stone_part3\").getComponent(\"block_parts\").boom(100 , 5, 5);\r\n        this.node.removeComponent(cc.RigidBody);\r\n        let x = this.node.getComponent(\"position\").x;\r\n        let y = this.node.getComponent(\"position\").y;\r\n        com.MAP_OBJ[x][y] = null;\r\n    },\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}