{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\stele/assets\\script\\stele\\poisonStele.js"],"names":["cc","Class","extends","Component","properties","attack_obj","Prefab","attack_rate","canvas","Node","_lasttime","createAttackObj","chin","node","getChildByName","setTimeout","setPosition","getPosition","x","y","obj","instantiate","addChild","v2","start","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAYL,GAAGM,MADP;AAERC,qBAAa,GAFL;AAGRC,gBAAQR,GAAGS,IAHH;AAIRC,mBAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBQ,KAHP;;AAyBL;;AAEA;AACAC,mBA5BK,6BA4BY;AAAA;;AACb,YAAIC,OAAO,KAAKC,IAAL,CAAUC,cAAV,CAAyB,SAAzB,CAAX;AACAC,mBAAW,YAAI;AACXH,iBAAKI,WAAL,CAAiBJ,KAAKK,WAAL,GAAmBC,CAApC,EAAuCN,KAAKK,WAAL,GAAmBE,CAAnB,GAAuB,EAA9D;AACA,gBAAIC,MAAMpB,GAAGqB,WAAH,CAAe,MAAKhB,UAApB,CAAV;AACA,kBAAKG,MAAL,CAAYc,QAAZ,CAAqBF,GAArB;AACAA,gBAAIJ,WAAJ,CAAgBhB,GAAGuB,EAAH,CAAM,MAAKV,IAAL,CAAUI,WAAV,GAAwBC,CAA9B,EAAiC,MAAKL,IAAL,CAAUI,WAAV,GAAwBE,CAAxB,GAA4B,EAA7D,CAAhB;AACAJ,uBAAW,YAAI;AACXH,qBAAKI,WAAL,CAAiBJ,KAAKK,WAAL,GAAmBC,CAApC,EAAuCN,KAAKK,WAAL,GAAmBE,CAAnB,GAAuB,EAA9D;AACH,aAFD,EAEG,IAFH;AAGH,SARD,EAQG,IARH;AAUH,KAxCI;AA0CLK,SA1CK,mBA0CI;AACL,aAAKd,SAAL,GAAiB,CAAjB;AACH,KA5CI;AA8CLe,UA9CK,kBA8CGC,EA9CH,EA8CO;AACR,YAAG,KAAKhB,SAAL,IAAkB,KAAKH,WAA1B,EAAsC;AAClC,iBAAKI,eAAL;AACA,iBAAKD,SAAL,GAAiB,CAAjB;AACH;AACD,aAAKA,SAAL,IAAkB,CAAlB;AACH;AApDI,CAAT","file":"poisonStele.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\stele","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        attack_obj: cc.Prefab,\n        attack_rate: 300,\n        canvas: cc.Node,\n        _lasttime: 0\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n    createAttackObj(){\n        let chin = this.node.getChildByName(\"sx_chin\");\n        setTimeout(()=>{\n            chin.setPosition(chin.getPosition().x, chin.getPosition().y - 18);\n            let obj = cc.instantiate(this.attack_obj);\n            this.canvas.addChild(obj);\n            obj.setPosition(cc.v2(this.node.getPosition().x, this.node.getPosition().y + 25));\n            setTimeout(()=>{\n                chin.setPosition(chin.getPosition().x, chin.getPosition().y + 18);\n            }, 1000);\n        }, 1000);\n        \n    },\n\n    start () {\n        this._lasttime = 0;\n    },\n\n    update (dt) {\n        if(this._lasttime >= this.attack_rate){\n            this.createAttackObj();\n            this._lasttime = 0;\n        }\n        this._lasttime += 1; \n    },\n});\n"]}