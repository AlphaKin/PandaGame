{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\blocks/assets\\script\\blocks\\block_fragile.js"],"names":["com","require","cc","Class","extends","Component","properties","audio","AudioClip","_isContacted","onBeginContact","contact","self","other","console","log","node","group","score","boom","audioEngine","play","getChildByName","getComponent","removeComponent","RigidBody","x","y","MAP_OBJ","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,MAAMC,QAAQ,QAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM,SADF;AAERC,sBAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBQ,KAHP;;AAuBLC,kBAvBK,0BAuBUC,OAvBV,EAuBmBC,IAvBnB,EAuByBC,KAvBzB,EAuB+B;AAChCC,gBAAQC,GAAR,CAAY,MAAZ;AACA,YAAG,KAAKN,YAAL,IAAqBI,MAAMG,IAAN,CAAWC,KAAX,IAAoB,MAA5C,EAAmD;AAC/CjB,gBAAIkB,KAAJ,GAAYlB,IAAIkB,KAAJ,GAAY,CAAxB;AACA,iBAAKC,IAAL;AACA,iBAAKV,YAAL,GAAoB,KAApB;AACH;AACJ,KA9BI;AA+BLU,QA/BK,kBA+BC;AACFjB,WAAGkB,WAAH,CAAeC,IAAf,CAAoB,KAAKd,KAAzB,EAAgC,KAAhC,EAAuC,CAAvC;AACA,aAAKS,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,CAAC,EAA1E,EAA8E,EAA9E,EAAkF,CAAlF;AACA,aAAKH,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,CAAzE,EAA8E,EAA9E,EAAkF,CAAlF;AACA,aAAKH,IAAL,CAAUM,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqD,aAArD,EAAoEJ,IAApE,CAAyE,EAAzE,EAA8E,EAA9E,EAAkF,CAAlF;AACA,aAAKH,IAAL,CAAUQ,eAAV,CAA0BtB,GAAGuB,SAA7B;AACA,YAAIC,IAAI,KAAKV,IAAL,CAAUO,YAAV,CAAuB,UAAvB,EAAmCG,CAA3C;AACA,YAAIC,IAAI,KAAKX,IAAL,CAAUO,YAAV,CAAuB,UAAvB,EAAmCI,CAA3C;AACA,YAAG3B,IAAI4B,OAAJ,CAAYF,CAAZ,CAAH,EACI1B,IAAI4B,OAAJ,CAAYF,CAAZ,EAAeC,CAAf,IAAoB,IAApB;AACP,KAzCI;;;AA2CL;;AAEAE,SA7CK,mBA6CI;AACLf,gBAAQC,GAAR,CAAY,SAAZ;AACH;AA/CI;;AAiDL;AAjDJ","file":"block_fragile.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\blocks","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar com = require('common');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        audio: cc.AudioClip,\n        _isContacted: true\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    onBeginContact(contact, self, other){\n        console.log(\"peng\");\n        if(this._isContacted && other.node.group == \"ball\"){\n            com.score = com.score + 5;\n            this.boom();\n            this._isContacted = false;\n        }\n    },\n    boom(){\n        cc.audioEngine.play(this.audio, false, 1);\n        this.node.getChildByName(\"stone_part1\").getComponent(\"block_parts\").boom(-50, 20, 3);\n        this.node.getChildByName(\"stone_part2\").getComponent(\"block_parts\").boom(0  , 20, 3);\n        this.node.getChildByName(\"stone_part3\").getComponent(\"block_parts\").boom(50 , 20, 3);\n        this.node.removeComponent(cc.RigidBody);\n        let x = this.node.getComponent(\"position\").x;\n        let y = this.node.getComponent(\"position\").y;\n        if(com.MAP_OBJ[x])\n            com.MAP_OBJ[x][y] = null;\n    },\n\n    // onLoad () {},\n\n    start () {\n        console.log(\"fragile\");\n    },\n\n    // update (dt) {},\n});\n"]}